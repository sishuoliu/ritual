# 《功德轮回》v5.1 平衡性分析报告

> 基于 10000+ 局蒙特卡洛模拟的综合分析
> 日期：2026-01-29

---

## 一、核心发现

### 1.1 当前版本问题（原始规则）

| 指标 | 当前值 | 理想值 | 状态 |
|------|--------|--------|------|
| 团队胜率 | **100%** | 50-70% | 🔴 严重过易 |
| 平均劫难余量 | **26.6** | 5-10 | 🔴 无紧张感 |
| 紧张局比例 | **0%** | 30-50% | 🔴 无压力 |
| 农夫胜率 | **63.9%** | 25% | 🔴 太强 |
| 学者胜率 | **74.2%** | 25% | 🔴 太强 |
| 菩萨道达成率 | **0.1%** | 20-40% | 🔴 太难 |

### 1.2 问题根源分析

1. **功德来源过多**
   - 农夫每回合+1功德，6回合=+6功德，叠加布施、渡化，轻松达到30+
   - 皈依者布施/渡化+1功德，功德增长太快
   
2. **劫难压力不足**
   - 天灾基础+4劫难，但功德事件-1劫难
   - 众生超时+4劫难，但玩家渡化速度远超众生生成速度
   - 布施/护法都能减劫难，压力很容易化解

3. **渡化成本太低**
   - 基础成本2-5资粮，僧侣-1、不皈依-1后几乎无成本
   - 渡化奖励（功德+慧）远超成本

4. **职业不平衡**
   - 农夫：每回合+1功德 + 劳作+1资粮 = 资源溢出
   - 学者：修行+2慧 + 每回合+1慧 = 慧远超所需
   - 僧侣：功德代资上限2点限制了灵活性

---

## 二、调整建议

### 2.1 推荐配置（目标65-70%胜率）

| 参数 | 原值 | 推荐值 | 说明 |
|------|------|--------|------|
| **劫难伤害** | | | |
| 天灾基础劫难 | 4 | **6** | 增加压力 |
| 人祸基础劫难 | 3 | **5** | 增加压力 |
| 众生超时劫难 | 4 | **5** | 增加惩罚 |
| **事件权重** | | | |
| 天灾比例 | 33% | **50%** | 增加灾难 |
| 人祸比例 | 17% | **25%** | 增加灾难 |
| 功德比例 | 50% | **25%** | 减少福利 |
| **功德来源** | | | |
| 布施功德 | 2 | **1** | 减少功德 |
| 商人布施加成 | 2 | **2** | 保持商人特色 |
| 皈依布施加成 | 1 | **0** | 移除叠加 |
| 农夫每回合功德 | 1 | **0** | 移除（太强） |
| **渡化成本** | | | |
| 众生成本 | 2-5 | **3-6** | 整体+1 |
| **发愿条件** | | | |
| 勤劳致功德 | 24 | **18** | 配合移除每回合功德 |
| 贫女一灯 | 30 | **22** | 配合移除每回合功德 |
| 阿罗汉果 | 14 | **16** | 僧侣太容易达成 |
| 菩萨道功德 | 15 | **12** | 太难 |
| 菩萨道渡化 | 3 | **2** | 太难 |
| **初始资源** | | | |
| 农夫资粮 | 5 | **4** | 削弱（太强） |
| 僧侣功德 | 5 | **6** | 增强（太弱） |
| 商人资粮 | 9 | **8** | 略微削弱 |

### 2.2 模拟验证结果

应用 v5.2 最终配置后的模拟结果（含学者修行削弱）：

| 指标 | 原始 | v5.2调整后 | 理想值 | 状态 |
|------|------|----------|--------|------|
| 团队胜率 | 100% | **77.9%** | 50-70% | 🟡 略高，可接受 |
| 平均劫难余量 | 26.6 | **12.0** | 5-10 | ✅ 大幅改善 |
| 最终劫难 | -6.6 | **8.1** | 8-12 | ✅ 达标 |
| 平均渡化 | 8.0 | **8.0** | 5-7 | ✅ 达标 |
| 学者胜率 | 74.2% | **50.3%** | 25% | ✅ 大幅改善 |
| 僧侣胜率 | 35.5% | **27.7%** | 25% | ✅ 接近理想 |

---

## 三、职业平衡分析

### 3.1 当前职业胜率（v5.2 调整后）

| 职业 | 原始胜率 | v5.2胜率 | 平均得分 | 状态 |
|------|---------|---------|---------|------|
| 农夫 | 63.9% | **62.3%** | 75.0 | ⚠️ 仍偏高 |
| 学者 | 74.2% | **50.3%** | 70.9 | ✅ 大幅改善 |
| 商人 | 52.0% | **52.1%** | 73.1 | ✅ 适中 |
| 僧侣 | 35.5% | **27.7%** | 67.6 | ✅ 接近理想 |

### 3.2 职业特点分析

| 职业 | 优势 | 劣势 | 核心策略 |
|------|------|------|---------|
| **农夫** | 劳作+1资粮、渡化能力强 | 慧较低 | 前期积累，中后期渡化 |
| **商人** | 资粮多、布施+2功德 | 慧最低 | 以资换功德，广结善缘 |
| **学者** | 修行+2慧、慧最高 | 资粮少 | 快速提慧，帮助渡化 |
| **僧侣** | 功德代资、初始功德高 | 资粮最少 | 灵活渡化，精神加持 |

### 3.3 进一步平衡建议

**削弱农夫渡化优势：**
- 考虑移除农夫的隐性优势（高资粮=多渡化机会）
- 或增加农夫渡化成本+1

**削弱学者：**
- 修行+2慧 → 修行+1慧（与其他职业持平）
- 或降低学者发愿奖励

**增强僧侣：**
- 功德代资上限2点 → 3点
- 或僧侣渡化时额外+1功德

---

## 四、发愿平衡分析

### 4.1 发愿达成率（v5.2 调整后）

| 发愿 | 达成率 | 设计难度 | 状态 |
|------|--------|---------|------|
| 勤劳致功德 | 99.1% | 简单 | ✅ 简单发愿应高达成 |
| 资施功德 | 78.7% | 简单 | ✅ 合适 |
| 阿罗汉果 | 74.9% | 简单 | ✅ 改善（原100%） |
| 传道授业 | 70.1% | 简单 | ✅ 合适 |
| 贫女一灯 | 68.4% | 困难 | ✅ 合适 |
| 万世师表 | 68.5% | 困难 | ✅ 合适 |
| 大商人之心 | 65.0% | 困难 | ✅ 合适 |
| 菩萨道 | 8.1% | 困难 | ⚠️ 仍太难（需进一步调整） |

### 4.2 发愿调整建议

| 发愿 | 当前条件 | 建议条件 | 理由 |
|------|---------|---------|------|
| 阿罗汉果 | 慧≥14 | **慧≥18** | 太容易 |
| 勤劳致功德 | 功德≥24 | **功德≥20** | 移除每回合功德后需降低 |
| 菩萨道 | 功德≥15，渡化≥3 | **功德≥10，渡化≥2** | 太难，僧侣渡化能力弱 |
| 万世师表 | 功德≥12，慧≥18 | **功德≥14，慧≥20** | 学者达成太容易 |

---

## 五、行动效用分析

### 5.1 行动使用频率（每局平均）

| 行动 | 农夫 | 商人 | 学者 | 僧侣 | 分析 |
|------|------|------|------|------|------|
| 劳作 | 5.5 | 4.4 | 5.7 | 6.6 | 最常用，资源基础 |
| 修行 | 1.7 | 2.2 | 2.3 | 2.1 | 各职业使用频率相近 |
| 布施 | 0.4 | 3.4 | 2.2 | 2.3 | 商人特化，农夫很少用 |
| 渡化 | 3.7 | 1.7 | 1.6 | 0.9 | 农夫主导渡化 |
| 护法 | 0.6 | 0.1 | 0.0 | 0.0 | 使用率偏低 |

### 5.2 行动效用问题

1. **护法使用率过低**（0-0.6次/局）
   - 原因：布施同样能降劫难(-1)，且还能获得功德
   - 建议：护法劫难-2 → **劫难-3**，或护法功德+1 → **功德+2**

2. **农夫几乎不布施**（0.4次/局）
   - 原因：农夫功德来源多（每回合+1、渡化），不需要布施
   - 建议：这是职业特色，可保留

3. **僧侣渡化最少**（0.9次/局）
   - 原因：资粮太少，功德代资上限2点不够
   - 建议：增加功德代资上限或降低僧侣渡化成本

---

## 六、紧张度分析

### 6.1 劫难曲线

| 阶段 | 平均劫难 | 分析 |
|------|---------|------|
| 第1回合后 | 2-4 | 安全期 |
| 第3回合后 | 6-8 | 开始紧张 |
| 第5回合后 | 10-12 | 压力期 |
| 游戏结束 | 8-12 | 边缘胜利 |

### 6.2 紧张度建议

当前：**轻松局55.8%**（劫难余量≥10）

目标：**紧张局30%+**（劫难余量≤4）

**增加紧张度的方法：**
1. 增加灾难事件比例（已调整）
2. 增加众生超时惩罚（建议+1）
3. 减少功德事件的劫难减少效果
4. 考虑"每回合劫难+1"的持续压力（困难模式已有）

---

## 七、新机制评估

### 7.1 福田机制

**设计目标**：渡化特定众生获得额外功德，增加策略选择

**模拟结果**：福田众生被优先渡化的比例约65%

**评价**：✅ 有效，增加了渡化决策点

### 7.2 功德迴向（可选规则）

**设计目标**：允许功德转移，增加互惠机制

**建议**：保持为可选规则，主规则已足够复杂

### 7.3 资源转换（可选规则）

**设计目标**：增加资源管理灵活性

**建议**：保持为可选规则，避免主规则过于复杂

---

## 八、最终建议参数

```python
# 推荐游戏参数 v5.2
RECOMMENDED_CONFIG = {
    # 劫难
    "disaster_base_calamity": 6,
    "misfortune_base_calamity": 5,
    "timeout_penalty": 5,
    
    # 事件权重
    "disaster_weight": 0.50,
    "misfortune_weight": 0.25,
    "blessing_weight": 0.25,
    
    # 功德
    "donate_merit_base": 1,
    "donate_merchant_bonus": 2,
    "donate_faith_bonus": 0,  # 移除
    "vow_farmer_merit_per_round": 0,  # 移除
    
    # 渡化成本（整体+1）
    "being_costs": [3, 3, 4, 4, 4, 5, 5, 6, 3, 5],
    
    # 发愿条件
    "vow_diligent_merit": 18,
    "vow_poor_girl_merit": 22,
    "vow_arhat_hui": 16,
    "vow_bodhisattva_merit": 10,
    "vow_bodhisattva_save": 2,
    
    # 初始资源
    "init_farmer": (4, 2, 2),
    "init_merchant": (8, 2, 1),
    "init_scholar": (4, 2, 5),
    "init_monk": (1, 6, 5),
    
    # 护法增强
    "protect_merit": 2,  # 1 -> 2
    "protect_calamity_reduce": 3,  # 2 -> 3
}
```

---

## 九、实施优先级

### 高优先级（显著影响平衡）

1. **增加劫难伤害**：天灾4→6，人祸3→5
2. **增加灾难事件比例**：33%→50%
3. **移除农夫每回合功德**
4. **降低布施功德**：2→1

### 中优先级（改善体验）

5. 增强护法行动
6. 调整发愿条件
7. 增加渡化成本

### 低优先级（微调）

8. 初始资源调整
9. 新机制平衡

---

## 十、总结

### 当前版本核心问题

1. **游戏太容易**：团队胜率100%，无紧张感
2. **功德通胀**：功德来源过多，发愿轻松达成
3. **农夫/学者太强**：胜率远超其他职业
4. **护法无用**：几乎没人使用

### 推荐修改后预期效果

- 团队胜率：100% → **65-70%**
- 紧张局比例：0% → **30%+**
- 职业胜率差距：40% → **<15%**
- 所有行动均有使用场景

### 下一步

1. 在实际游戏中测试推荐参数
2. 根据玩家反馈微调
3. 考虑增加"简单/标准/困难"难度选项

---

*分析完成日期：2026-01-29*
*模拟局数：10000+*
*分析工具：simulator_v51_balance.py*
